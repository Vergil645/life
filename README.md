# life

## Description

Simple `C` implementation of Conway's Game of Life based on `SDL2` library.

## Build

```sh
cmake -S . -B build
make -C build
```

## Run

```sh
./build/bin/start
```

## LLVM IR

Repository contains LLVM IR of `src/app.c` file in [IR](./IR) directory.
It was generated by [genIR](./genIR) scipt.

## LLVM pass

Source code of the pass and the logger is located in [pass](./pass/) directory.

Script [compileWithPass.sh](./compileWithPass.sh) compiles pass (`libPass.so`) and compiles whole application using this pass.
This script also produces `app_with_trace.ll` IR file located in [IR](./IR) directory.

Pass affects only `void app()` function from `src/app.c` file - it logs running instruction and who uses it.

Pass doesn't log the following instructions:
- `ret`
- `phi`

Analysis script and statistics file are located in [statistics](./statistics/) directory.
Brief summary:
```
"Instruction <- User"           Percentage
------------------------------  ------------
getelementptr <- load           14.2%
icmp <- br                      14.0%
load <- and                     12.2%
and <- add                      12.2%
sext <- getelementptr           7.7%
or <- add                       6.2%
zext <- getelementptr           6.1%
add <- sext                     6.1%
or <- zext                      3.1%
add <- zext                     3.1%
getelementptr <- store          2.0%
load <- or                      1.5%
load <- icmp                    1.5%
ashr <- mul                     1.5%
mul <- add                      1.5%
add <- call                     1.5%
add <- add                      1.5%
or <- sext                      1.5%
...
```